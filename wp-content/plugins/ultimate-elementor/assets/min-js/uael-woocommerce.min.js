!function(d){function e(e,a){if(void 0!==e){var t=e.find(".uael-woo-categories-slider");if(0<t.length){var o=t.find("ul.products"),i=JSON.parse(t.attr("data-cat_slider"));o.slick(i)}}}function a(e,a){if(void 0!==e){var t=e.find(".uael-woo-products-slider");if(0<t.length){var o=t.find("ul.products"),i=JSON.parse(t.attr("data-woo_slider"));o.slick(i)}elementorFrontend.isEditMode()||(function(r,u){var e=r.data("id"),l=(r.find(".uael-quick-view-btn"),r.find(".uael-quick-view-"+e));l.appendTo(document.body);var o=l.find(".uael-quick-view-bg"),n=l.find("#uael-quick-view-modal"),d=n.find("#uael-quick-view-content"),t=n.find("#uael-quick-view-close"),i=n.find(".uael-content-main-wrapper");i.width(),i.height();r.off("click",".uael-quick-view-btn").on("click",".uael-quick-view-btn",function(e){e.preventDefault();var a=u(this),t=(a.closest("li.product"),a.data("product_id"));n.hasClass("loading")||n.addClass("loading"),o.hasClass("uael-quick-view-bg-ready")||o.addClass("uael-quick-view-bg-ready"),u(document).trigger("uael_quick_view_loading"),c(a,t)}),r.off("click",".uael-quick-view-data").on("click",".uael-quick-view-data",function(e){e.preventDefault();var a=u(this),t=(a.closest("li.product"),a.data("product_id"));n.hasClass("loading")||n.addClass("loading"),o.hasClass("uael-quick-view-bg-ready")||o.addClass("uael-quick-view-bg-ready"),u(document).trigger("uael_quick_view_loading"),c(a,t)});var c=function(e,a){n.css("opacity",0),u.ajax({url:uael_wc_script.ajax_url,data:{action:"uael_woo_quick_view",product_id:a,nonce:uael_wc_script.quick_view_nonce},dataType:"html",type:"POST",success:function(e){d.html(e),s()}})},s=function(){var e=d.find(".variations_form");if(e.trigger("check_variations"),e.trigger("reset_image"),!n.hasClass("open")){n.removeClass("loading").addClass("open");var a=p(),t=u("html");t.css("margin-right",a),t.addClass("uael-quick-view-is-open")}var o=n.find(".variations_form");0<o.length&&"function"==typeof o.wc_variation_form&&(o.wc_variation_form(),o.find("select").change()),d.imagesLoaded(function(e){var a=n.find(".uael-qv-image-slider");1<a.find("li").length?a.flexslider({animation:"slide",start:function(e){setTimeout(function(){_(!0)},300)}}):setTimeout(function(){_(!0)},300)}),u(document).trigger("uael_quick_view_loader_stop")},_=function(e){var a=d,t=a.find(".product .uael-qv-image-slider").first().height(),o=a.find(".product .summary.entry-summary"),i=o.css("content");void 0!==i&&544==i.replace(/[^0-9]/g,"")&&0!=t&&null!==t?o.css("height",t):o.css("height",""),!0===e&&n.css("opacity",1)},p=function(){var e=u('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');u("body").append(e);var a=u("div",e).innerWidth();e.css("overflow-y","scroll");var t=u("div",e).innerWidth();return u(e).remove(),a-t};!function(){i.on("click",function(e){this===e.target&&a()}),u(document).keyup(function(e){27===e.keyCode&&a()}),t.on("click",function(e){e.preventDefault(),a()});var a=function(){o.removeClass("uael-quick-view-bg-ready"),n.removeClass("open").removeClass("loading"),u("html").removeClass("uael-quick-view-is-open"),u("html").css("margin-right",""),setTimeout(function(){d.html("")},600)}}(),window.addEventListener("resize",function(e){_()});function a(){l.off("click","#uael-quick-view-content .single_add_to_cart_button").off("uael_added_to_cart").on("click","#uael-quick-view-content .single_add_to_cart_button",this.onAddToCart).on("uael_added_to_cart",this.updateButton)}a.prototype.onAddToCart=function(e){e.preventDefault();var a=u(this).closest("form");if(!a[0].checkValidity())return a[0].reportValidity(),!1;var t=u(this),o=u(this).val(),i=u('input[name="variation_id"]').val()||"",n=u('input[name="quantity"]').val();if(r.find(".woocommerce-grouped-product-list-item").length){var d=u("input.qty");n=[];u.each(d,function(e,a){var t=u(this).attr("name");t=(t=t.replace("quantity[","")).replace("]",""),t=parseInt(t),u(this).val()&&(n[t]=u(this).val())})}var c=a.serialize();t.is(".single_add_to_cart_button")&&(t.removeClass("added"),t.addClass("loading"),""!=i?jQuery.ajax({url:uael_wc_script.ajax_url,type:"POST",data:"action=uael_add_cart_single_product&product_id="+o+"&nonce="+uael_wc_script.add_cart_nonce+"&"+c,success:function(e){u(document.body).trigger("wc_fragment_refresh"),l.trigger("uael_added_to_cart",[t])}}):jQuery.ajax({url:uael_wc_script.ajax_url,type:"POST",data:"action=uael_add_cart_single_product&product_id="+o+"&nonce="+uael_wc_script.add_cart_nonce+"&"+c,success:function(e){u(document.body).trigger("wc_fragment_refresh"),l.trigger("uael_added_to_cart",[t])}}))},a.prototype.updateButton=function(e,a){u(a=void 0!==a&&a)&&(u(a).removeClass("loading"),u(a).addClass("added"),!uael_wc_script.is_cart&&0===u(a).parent().find(".added_to_cart").length&&uael_wc_script.is_single_product&&u(a).after(' <a href="'+uael_wc_script.cart_url+'" class="added_to_cart wc-forward" title="'+uael_wc_script.view_cart+'">'+uael_wc_script.view_cart+"</a>"))},new a}(e,a),function(e,o){if($layout=e.data("widget_type"),"uael-woo-products.grid-franko"===$layout||"uael-woo-products-slider.slider-franko"===$layout){function a(){o(document.body).off("click",".uael-product-actions .uael-add-to-cart-btn.product_type_simple").off("uael_product_actions_added_to_cart").on("click",".uael-product-actions .uael-add-to-cart-btn.product_type_simple",this.onAddToCart).on("uael_product_actions_added_to_cart",this.updateButton)}a.prototype.onAddToCart=function(e){e.preventDefault();var a=o(this),t=a.data("product_id");a.find("uael-action-item");a.removeClass("added"),a.addClass("loading"),jQuery.ajax({url:uael_wc_script.ajax_url,type:"POST",data:{action:"uael_add_cart_single_product",product_id:t,quantity:1,nonce:uael_wc_script.add_cart_nonce},success:function(e){o(document.body).trigger("wc_fragment_refresh"),o(document.body).trigger("uael_product_actions_added_to_cart",[a])}})},a.prototype.updateButton=function(e,a){o(a=void 0!==a&&a)&&(o(a).removeClass("loading"),o(a).addClass("added"))},new a}}(e,a))}}function t(e,a){a("body").off("added_to_cart.uael_cart").on("added_to_cart.uael_cart",function(e,a,t,o){0<o.closest(".elementor-widget-uael-woo-add-to-cart").length&&o.hasClass("uael-redirect")&&setTimeout(function(){!uael_wc_script.is_cart&&o.hasClass("added")&&(window.location=uael_wc_script.cart_url)},200)})}d(document).off("click",".uael-woocommerce-pagination a.page-numbers").on("click",".uael-woocommerce-pagination a.page-numbers",function(e){if($scope=d(this).closest(".elementor-widget-uael-woo-products"),!$scope.find(".uael-woocommerce").hasClass("uael-woo-query-main")){e.preventDefault(),$scope.find("ul.products").after('<div class="uael-woo-loader"><div class="uael-loader"></div><div class="uael-loader-overlay"></div></div>');var a=$scope.data("id"),t=$scope.find(".uael-woocommerce").data("page"),o=1,i=parseInt($scope.find(".uael-woocommerce-pagination .page-numbers.current").html()),n=$scope.find(".uael-woocommerce").data("skin");o=d(this).hasClass("next")?i+1:d(this).hasClass("prev")?i-1:d(this).html(),d.ajax({url:uael_wc_script.ajax_url,data:{action:"uael_get_products",page_id:t,widget_id:$scope.data("id"),category:"",skin:n,page_number:o,nonce:uael_wc_script.get_product_nonce},dataType:"json",type:"POST",success:function(e){$scope.find(".uael-woo-loader").remove(),d("html, body").animate({scrollTop:$scope.find(".uael-woocommerce").offset().top-30},"slow"),$scope.find(".uael-woo-products-inner ul.products").replaceWith(e.data.html),$scope.find(".uael-woocommerce-pagination").replaceWith(e.data.pagination),d(window).trigger("uael_woocommerce_after_pagination",[t,a])}})}}),d(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-products.grid-default",a),elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-products.grid-franko",a),elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-add-to-cart.default",t),elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-categories.default",e)})}(jQuery);