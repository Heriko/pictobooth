!function(){var i=["uael","uael_section","uael_column"],t=["widget","column","section"];xsLocalStorage.init({iframeUrl:uael_cross_domain.cross_domain_cdn,initCallback:function(){}}),UAE_Cross_Domain_Handler={paste:function(e,n){var t=null,i={index:0},o=e.widgetCode,a=JSON.stringify(o),r=o.elType,s=/\.(jpg|png|jpeg|gif|svg)/gi.test(a),l={elType:r,settings:o.settings},d=n,c=n.model.get("elType");switch(r){case"section":switch(l.elements=UAE_Cross_Domain_Handler.generateUniqueID(o.elements),t=elementor.getPreviewContainer(),c){case"widget":i.index=d.getContainer().parent.parent.view.getOption("_index")+1;break;case"column":i.index=d.getContainer().parent.view.getOption("_index")+1;break;case"section":i.index=d.getOption("_index")+1}break;case"column":switch(l.elements=UAE_Cross_Domain_Handler.generateUniqueID(o.elements),c){case"widget":t=d.getContainer().parent.parent,i.index=d.getContainer().parent.view.getOption("_index")+1;break;case"column":t=d.getContainer().parent,i.index=d.getOption("_index")+1;break;case"section":t=d.getContainer()}break;case"widget":switch(l.widgetType=o.widgetType,t=d.getContainer(),c){case"widget":t=d.getContainer().parent,i.index=d.getOption("_index")+1;break;case"column":t=d.getContainer();break;case"section":t=d.children.findByIndex(0).getContainer()}}var m=$e.run("document/elements/create",{model:l,container:t,options:i});null==m&&("widget"===c?d.$el.next(".undefined.elementor-widget-empty")&&d.$el.next(".undefined.elementor-widget-empty").after('<div class="elementor-alert elementor-alert-warning">'+uael_cross_domain.widget_not_found+"</div>"):d.$el.find(".undefined.elementor-widget-empty")&&d.$el.find(".undefined.elementor-widget-empty").after('<div class="elementor-alert elementor-alert-warning">'+uael_cross_domain.widget_not_found+"</div>")),s&&jQuery.ajax({url:uael_cross_domain.ajaxURL,method:"POST",data:{nonce:uael_cross_domain.nonce,action:"uael_process_import",content:a},beforeSend:function(){m.view.$el.addClass("uael-processing-import")}}).done(function(e){if(e.success){var n=e.data[0];l.elType=n.elType,l.settings=n.settings,"widget"===l.elType?l.widgetType=n.widgetType:l.elements=n.elements,$e.run("document/elements/delete",{container:m}),$e.run("document/elements/create",{model:l,container:t,options:i})}})},generateUniqueID:function(e){return e.forEach(function(e,n){void 0!==elementorCommon.helpers.getUniqueId()?e.id=elementorCommon.helpers.getUniqueId():e.id=elementor.helpers.getUniqueID(),0<e.elements.length&&UAE_Cross_Domain_Handler.generateUniqueID(e.elements)}),e}},i.forEach(function(e,n){elementor.hooks.addFilter("elements/"+t[n]+"/contextMenuGroups",function(e,t){return e.push({name:i[n],actions:[{name:"copy",title:uael_cross_domain.uae_copy,icon:uael_cross_domain.cross_domain_icon,callback:function(){var e={widgetType:t.model.get("widgetType"),widgetCode:t.model.toJSON()};xsLocalStorage.setItem("bsf_uael_container_new",JSON.stringify(e))}},{name:"paste",title:uael_cross_domain.uae_paste,icon:uael_cross_domain.cross_domain_icon,callback:function(){var n="";xsLocalStorage.getItem("bsf_uael_container_new",function(e){n=JSON.parse(e.value),UAE_Cross_Domain_Handler.paste(n,t)})}}]}),e})})}(jQuery);