jQuery(document).ready((function(e){var a=e("#aep_config_box");a.find("#ae-config-general").attr("aria-hidden",!1),a.find(".f-row").attr("aria-hidden",!0);aepro.modules;function t(){switch(o("ae_render_mode"),e("#sec-rules").hide(),e('[name="ae_render_mode"]').val()){case"post_type_archive_template":o("ae_rule_post_type_archive"),o("ae_full_override"),o("ae_elementor_template");break;case"post_template":o("ae_preview_post_ID"),o("ae_apply_global"),o("ae_rule_post_type"),o("ae_elementor_template");break;case"archive_template":o("ae_apply_global"),o("ae_rule_taxonomy"),o("ae_full_override"),o("ae_elementor_template"),o("ae_preview_term");break;case"block_layout":o("ae_preview_post_ID");break;case"normal":!function(){o("ae_usage"),usage_area=e('[name="ae_usage"]').val(),"custom"==usage_area&&o("ae_custom_usage_area");""!=usage_area&&(o("ae_apply_global"),auto_apply=e('[name="ae_apply_global"]').is(":checked"),auto_apply||(e("li.ae-rules").show(),o("ae_hook_apply_on[]"),page_types=e("input[name='ae_hook_apply_on[]']:checked").map((function(){return this.value})).get(),page_types.indexOf("single")>=0&&(o("ae_hook_post_types[]"),o("ae_hook_posts_selected"),o("ae_hook_posts_excluded")),page_types.indexOf("archive")>=0&&(o("ae_hook_taxonomies[]"),o("ae_hook_terms_selected"),o("ae_hook_terms_excluded"))))}();break;case"404":case"search":o("ae_elementor_template");break;case"author_template":o("ae_apply_global"),o("ae_elementor_template"),o("ae_preview_author");break;case"date_template":o("ae_elementor_template");break;case"acf_repeater_layout":!function(){o("ae_repeater_loc"),repeater_loc=e('[name="ae_repeater_loc"]').val(),"post"==repeater_loc&&o("ae_preview_post_ID");o("ae_acf_repeater_name")}()}}function o(a){e('[name="'+a+'"]').closest(".f-row").attr("aria-hidden",!1)}t(),jQuery("#ae_preview_post_ID").aeselect2({ajax:{url:ajaxurl,dataType:"json",data:function(e){return render_mode=jQuery('[name="ae_render_mode"]').val(),"block_layout"!=render_mode&&"acf_repeater_layout"!=render_mode?post_type=jQuery("#ae_rule_post_type").val():post_type="any",{q:e.term,action:"ae_prev_post",post_type:post_type}},processResults:function(e){return{results:e.data}}},minimumInputLength:2}),jQuery("#ae_preview_term").aeselect2({ajax:{url:ajaxurl,dataType:"json",data:function(e){return taxonomy=jQuery("#ae_rule_taxonomy").val(),{q:e.term,action:"ae_prev_term",taxonomy:taxonomy}},processResults:function(e){return{results:e.data}}},minimumInputLength:2}),jQuery("#ae_preview_post_ID, #ae_repeater_loc").on("change",(function(){render_mode=e('[name="ae_render_mode"]').val(),"acf_repeater_layout"==render_mode&&(id=jQuery("#ae_preview_post_ID").val(),repeater_loc=jQuery("#ae_repeater_loc").val(),jQuery.ajax({url:ajaxurl,dataType:"json",data:{action:"ae_acf_repeater_fields",post_id:id,repeater_loc:repeater_loc},success:function(e){jQuery("#ae_acf_repeater_name").find("option").remove().end(),e.data.length&&jQuery.each(e.data,(function(e,a){jQuery("#ae_acf_repeater_name").append(jQuery("<option/>",{value:a.id,text:a.text}))}))}}))})),function(){if(null===document.querySelector(".aep-wrap"))return;const a=document.querySelector("#aep-select-all"),t=document.querySelectorAll(".aep-module-action"),o=document.querySelector("#aep-apply"),n=document.querySelector("#save-license"),r=document.querySelector("#save-config");document.querySelectorAll(".aep-tabs .aep-title a").forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault();const a=document.querySelectorAll(".aep-tabs .aep-title"),t=e.target.dataset.tabid;a.forEach(e=>e.classList.remove("active")),e.target.parentElement.classList.add("active"),console.log("#"+t),document.querySelectorAll(".aep-tab-content").forEach(e=>e.classList.remove("active")),document.querySelector("#"+t).classList.add("active")}))}),a.addEventListener("change",(function(e){const a=document.querySelectorAll(".aep-module-item");this.checked?a.forEach((function(e){e.checked=!0})):a.forEach((function(e){e.checked=!1}))})),t.forEach((function(a){a.addEventListener("click",(function(a){a.stopPropagation(),a.preventDefault();const t=a.target,o=t.dataset.moduleid,n=t.dataset.action;let r={};r[o]=n,t.classList.add("updating"),e.ajax({url:ajaxurl,method:"post",data:{action:"aep_module",moduleData:r},success:function(e){const a=e.modules;for(module in a)if(a.hasOwnProperty(module)){let e=a[module],t=document.querySelector(`[data-moduleid='${module}']`);!1===e?(t.textContent="Activate",t.dataset.action="activate",t.parentElement.parentElement.classList.remove("aep-enabled"),t.parentElement.parentElement.classList.add("aep-disabled")):(t.textContent="Deactivate",t.dataset.action="deactivate",t.parentElement.parentElement.classList.add("aep-enabled"),t.parentElement.parentElement.classList.remove("aep-disabled")),t.classList.remove("updating"),moduleCBs=document.querySelectorAll(".aep-module-item"),moduleCBs.forEach(e=>e.checked=!1)}}})}))})),o.addEventListener("click",(function(a){const t=document.querySelector('[name="aep-bulk-action"]').value,o={};""!==t?(document.querySelectorAll(".aep-module-item").forEach((function(e){e.checked&&(o[e.value]=t,e.nextSibling.nextSibling.children[0].classList.add("updating"))})),0!==Object.keys(o).length?e.ajax({url:ajaxurl,method:"post",data:{action:"aep_module",moduleData:o},success:function(e){const a=e.modules;for(module in a)if(a.hasOwnProperty(module)){const e=a[module],t=document.querySelector(`[data-moduleid='${module}']`);!1===e?(t.textContent="Activate",t.dataset.action="activate",t.parentElement.parentElement.classList.remove("aep-enabled"),t.parentElement.parentElement.classList.add("aep-disabled")):(t.textContent="Deactivate",t.dataset.action="deactivate",t.parentElement.parentElement.classList.remove("aep-disabled"),t.parentElement.parentElement.classList.add("aep-enabled")),t.classList.remove("updating"),moduleCBs=document.querySelectorAll(".aep-module-item"),moduleCBs.forEach(e=>e.checked=!1)}}}):alert("Please select atleast one module")):alert("Please select an action")})),n.addEventListener("click",(function(a){const t=document.querySelector("#aep-license").value,o=this.dataset.action,n=document.querySelector(".aep-license-box"),r=document.querySelector(".aep-license-msg"),c=document.querySelector("#aep_license_nonce").value,l=this;if(r.textContent="",""===t)return void alert("Please enter the license key");l.classList.add("loading");const s={action:"ae_activate_license",license_key:t,license_action:o,nonce:c};e.ajax({method:"POST",url:ajaxurl,dataType:"json",data:s,success:function(e){if(!1===e.action)r.textContent=e.message;else if("activate"==o){n.classList.add("aep-active"),document.querySelector(".aep-license-box .aep-action-text").textContent="Deactivate",l.dataset.action="deactivate",document.querySelector("#aep-license").disabled=!0;const e=document.querySelector(".aep-license-error");e&&e.remove()}else n.classList.remove("aep-active"),document.querySelector(".aep-license-box .aep-action-text").textContent="Activate",l.dataset.action="activate",document.querySelector("#aep-license").value="",document.querySelector("#aep-license").disabled=!1;l.classList.remove("loading")}})})),r.addEventListener("click",(function(a){const t=document.querySelector("#ae_pro_gmap_api").value,o=this;o.classList.add("loading"),e.ajax({url:ajaxurl,method:"post",data:{action:"aep_save_config",config:{ae_pro_gmap_api:t},nonce:aepro.aep_nonce},success:function(e){o.classList.remove("loading")}})}))}(),jQuery(document).on("change",'[name="ae_apply_global"], [name="ae_render_mode"], [name="ae_hook_apply_on[]"], [name="ae_usage"], [name="ae_repeater_loc"]',(function(){a.find(".f-row").attr("aria-hidden",!0),t()})),e(".ae-config-wrapper").on("click",".ae-config-nav a",(function(a){a.preventDefault(),e(".ae-config-nav li").attr("aria-selected",!1),e(this).closest("li").attr("aria-selected",!0),href=e(this).attr("href"),e(".ae-config-content").attr("aria-hidden",!0),e(href).attr("aria-hidden",!1)}))})),jQuery;